class Question{constructor(a,b,c){this.prompt=a,this.image=b,this.answers=c}generateHTML(a){const b=document.createElement("div");b.classList.add("question-wrapper");const c=document.createElement("div");c.classList.add("question-question"),b.appendChild(c);const d=document.createElement("span");d.classList.add("question-number"),d.textContent=`Question ${a+1}`,c.appendChild(d);const e=document.createElement("span");e.classList.add("question-points"),e.textContent="(1 point)",c.appendChild(e);const f=document.createElement("div");if(f.classList.add("question-title"),f.innerHTML=this.generateTitleHTML(),c.appendChild(f),this.image){const a=document.createElement("img");a.src=this.image,a.alt=this.prompt,f.appendChild(a)}const g=document.createElement("div");return g.classList.add("question-answers"),g.innerHTML=this.generateAnswerHTML(a),c.appendChild(g),b}generateTitleHTML(){return this.prompt.split("\n").map(a=>`<p><span style="font-size:16px;">${a}</span></p>`).join("")}generateAnswerHTML(){throw new Error("generateAnswerHTML must be implemented by subclasses")}generateAlphaSuffix(a,b){const c=document.createElement("span");c.classList.add("form-alpha-suffix"),c.innerText=["a","b","c","d","e","f","g","h","i","j","k","l","m","o","p"][b],a.appendChild(c)}}class MultiChoice extends Question{constructor(a,b,c){super(a,b,c)}generateAnswerHTML(a){return this.answers.map((b,c)=>{const d=document.createElement("label");d.classList.add("c-question-label");const e=document.createElement("input");return e.classList.add("c-question-input-clicker"),e.type="radio",e.name=`sgy-question-${a}`,e.value=b.correct?"1":"0",d.appendChild(e),this.generateAlphaSuffix(d,c),d.appendChild(document.createTextNode(b.text)),d.outerHTML}).join("")}}class CheckBoxChoice extends Question{constructor(a,b,c){super(a,b,c)}generateAnswerHTML(a){return this.answers.map((b,c)=>{const d=document.createElement("label");d.classList.add("c-question-label");const e=document.createElement("input");return e.classList.add("c-question-input-clicker"),e.type="checkbox",e.name=`sgy-question-${a}`,e.value=b.correct?"1":"0",d.appendChild(e),this.generateAlphaSuffix(d,c-1),d.appendChild(document.createTextNode(b.text)),d.outerHTML}).join("")}}class FillInTheBlank extends Question{constructor(a,b,c){super(a,b,c)}generateAnswerHTML(a){return this.answers.map((b,c)=>{const d=document.createElement("input");return d.classList.add("c-question-input"),d.type="text",d.name=`sgy-question-${a}`,d.value=b.text,b.correct&&d.setAttribute("data-correct","true"),`Blank ${c+1}: ${d.outerHTML}`}).join("")}}class SchoologyTest{constructor(...a){this.questions=a,this.questionsCorrect=0}generateHTML(){const a=document.createElement("form");a.role="form",a.action="#",a.acceptCharset="UTF-8",a.id="s-assessment-question-fill-form";const b=document.createElement("div");a.appendChild(b),this.questions.forEach((a,c)=>{b.appendChild(a.generateHTML(c))});const c=document.createElement("div");c.classList.add("submit-span-wrapper");const d=document.createElement("input");d.type="submit",d.name="op",d.id="edit-submit",d.value="Submit",d.classList.add("form-submit","assessment-nav","has-next"),c.appendChild(d);const f=document.createElement("span");f.classList.add("score"),b.appendChild(c),b.appendChild(f);let g=this;return a.addEventListener("submit",function(a){a.preventDefault(),g.questions.forEach((a,b)=>{let c=[...document.getElementsByName("sgy-question-"+b)].filter(a=>a.checked),d=[...document.getElementsByName("sgy-question-"+b)].filter(a=>"1"===a.value);0<c.length?c.forEach(b=>{"1"===b.value?(b.parentElement.classList.add("correct"),g.questionsCorrect++):(b.parentElement.classList.add("incorrect"),d.forEach(a=>{a.parentElement.classList.add("ghost-correct")}))}):d.forEach(a=>{a.parentElement.classList.add("ghost-correct")})});for(let b of this)b.disabled="true";let b=0;g.questions.forEach(a=>{a.answers.forEach(c=>{c.correct&&b++})}),f.innerHTML="Your Score: "+Math.floor(1e4*(g.questionsCorrect/b))/100+"%<p class=\"mt-3\">Congrats! You have finished the game! Feel free to exit fullscreen and check over your answers to see what you missed.</p>",setTimeout(()=>document.exitFullscreen(),1e3)}),a}}